<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dom test</title>

    <script src="../src/jvd.js"></script>
    <script>
        class C extends JVD.Component {
            onMount() {
                // global
                this.z = JVD.useState(4);
            }
            render() {
                // local
                let [e, setE] = JVD.useState(4);

                return [
                    e,
                    setE,
                    this.z    
                ]  
            }
        }

        let el = {
            tag: 'div',
            props: null,
            children: [
                {component: C, props: {}, slot: []},
                {component: C, props: {}, slot: []}
            ],

            renderHTML() {
                this.children.forEach(c => {
                    if (c.hasOwnProperty('component')) {
                        // component

                        let t = new c.component(c.props, c.slot);
                        t.onMount();
                        
                        let a = t.render();
                        a[2][1](8);

                        t.renderHTML();
                    } 
                    else if (typeof c == "string") {
                        // text
                    }
                    else {
                        // element
                    }
                });
            }
        }

        let r = JVD.createRoot(document.querySelector('#root'));
        r.mount(el)
    </script>
</head>

<body>
    <div id="root"></div>
</body>

</html>